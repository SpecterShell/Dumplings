Version: 3.13.12
Installer:
- Architecture: x86
  InstallerUrl: https://www.python.org/ftp/python/3.13.12/python-3.13.12.exe
- Architecture: x64
  InstallerUrl: https://www.python.org/ftp/python/3.13.12/python-3.13.12-amd64.exe
- Architecture: arm64
  InstallerUrl: https://www.python.org/ftp/python/3.13.12/python-3.13.12-arm64.exe
Locale:
- Locale: en-US
  Key: ReleaseNotesUrl
  Value: https://docs.python.org/release/3.13.12/whatsnew/changelog.html
- Locale: en-US
  Key: ReleaseNotes
  Value: |-
    Windows
    - gh-128067: Fix a bug in PyREPL on Windows where output without a trailing newline was overwritten by the next prompt.
    Tools/Demos
    - gh-142095: Make gdb ‘py-bt’ command use frame from thread local state when available. Patch by Sam Gross and Victor Stinner.
    Tests
    - gh-144415: The Android testbed now distinguishes between stdout/stderr messages which were triggered by a newline, and those triggered by a manual call to flush. This fixes logging of progress indicators and similar content.
    - gh-65784: Add support for parametrized resource wantobjects in regrtests, which allows to run Tkinter tests with the specified value of tkinter.wantobjects, for example -u wantobjects=0.
    - gh-143553: Add support for parametrized resources, such as -u xpickle=2.7.
    - gh-142836: Accommodated Solaris in test_pdb.test_script_target_anonymous_pipe.
    - gh-129401: Fix a flaky test in test_repr_rlock that checks the representation of multiprocessing.RLock.
    - bpo-31391: Forward-port test_xpickle from Python 2 to Python 3 and add the resource back to test’s command line.
    Security
    - gh-144125: BytesGenerator will now refuse to serialize (write) headers that are unsafely folded or delimited; see verify_generated_headers. (Contributed by Bas Bloemsaat and Petr Viktorin in gh-121650).
    - gh-143935: Fixed a bug in the folding of comments when flattening an email message using a modern email policy. Comments consisting of a very long sequence of non-foldable characters could trigger a forced line wrap that omitted the required leading space on the continuation line, causing the remainder of the comment to be interpreted as a new header field. This enabled header injection with carefully crafted inputs.
    - gh-143925: Reject control characters in data: URL media types.
    - gh-143919: Reject control characters in http.cookies.Morsel fields and values.
    - gh-143916: Reject C0 control characters within wsgiref.headers.Headers fields, values, and parameters.
    Library
    - gh-144380: Improve performance of io.BufferedReader line iteration by ~49%.
    - gh-144169: Fix three crashes when non-string keyword arguments are supplied to objects in the ast module.
    - gh-144100: Fixed a crash in ctypes when using a deprecated POINTER(str) type in argtypes. Instead of aborting, ctypes now raises a proper Python exception when the pointer target type is unresolved.
    - gh-144050: Fix stat.filemode() in the pure-Python implementation to avoid misclassifying invalid mode values as block devices.
    - gh-144023: Fixed validation of file descriptor 0 in posix functions when used with follow_symlinks parameter.
    - gh-143999: Fix an issue where inspect.getgeneratorstate() and inspect.getcoroutinestate() could fail for generators wrapped by types.coroutine() in the suspended state.
    - gh-143706: Fix multiprocessing forkserver so that sys.argv is correctly set before __main__ is preloaded. Previously, sys.argv was empty during main module import in forkserver child processes. This fixes a regression introduced in 3.13.8 and 3.14.1. Root caused by Aaron Wieczorek, test provided by Thomas Watson, thanks!
    - gh-143638: Forbid reentrant calls of the pickle.Pickler and pickle.Unpickler methods for the C implementation. Previously, this could cause crash or data corruption, now concurrent calls of methods of the same object raise RuntimeError.
    - gh-78724: Raise RuntimeError’s when user attempts to call methods on half-initialized Struct objects, For example, created by Struct.__new__(Struct). Patch by Sergey B Kirpichev.
    - gh-143602: Fix a inconsistency issue in write() that leads to unexpected buffer overwrite by deduplicating the buffer exports.
    - gh-143547: Fix sys.unraisablehook() when the hook raises an exception and changes sys.unraisablehook(): hold a strong reference to the old hook. Patch by Victor Stinner.
    - gh-143378: Fix use-after-free crashes when a BytesIO object is concurrently mutated during write() or writelines().
    - gh-143346: Fix incorrect wrapping of the Base64 data in plistlib._PlistWriter when the indent contains a mix of tabs and spaces.
    - gh-143310: tkinter: fix a crash when a Python list is mutated during the conversion to a Tcl object (e.g., when setting a Tcl variable). Patch by Bénédikt Tran.
    - gh-143309: Fix a crash in os.execve() on non-Windows platforms when given a custom environment mapping which is then mutated during parsing. Patch by Bénédikt Tran.
    - gh-143308: pickle: fix use-after-free crashes when a PickleBuffer is concurrently mutated by a custom buffer callback during pickling. Patch by Bénédikt Tran and Aaron Wieczorek.
    - gh-143237: Fix support of named pipes in the rotating logging handlers.
    - gh-143249: Fix possible buffer leaks in Windows overlapped I/O on error handling.
    - gh-143241: zoneinfo: fix infinite loop in ZoneInfo.from_file when parsing a malformed TZif file. Patch by Fatih Celik.
    - gh-142830: sqlite3: fix use-after-free crashes when the connection’s callbacks are mutated during a callback execution. Patch by Bénédikt Tran.
    - gh-143200: xml.etree.ElementTree: fix use-after-free crashes in __getitem__() and __setitem__() methods of Element when the element is concurrently mutated. Patch by Bénédikt Tran.
    - gh-142195: Updated timeout evaluation logic in subprocess to be compatible with deterministic environments like Shadow where time moves exactly as requested.
    - gh-143145: Fixed a possible reference leak in ctypes when constructing results with multiple output parameters on error.
    - gh-122431: Corrected the error message in readline.append_history_file() to state that nelements must be non-negative instead of positive.
    - gh-143004: Fix a potential use-after-free in collections.Counter.update() when user code mutates the Counter during an update.
    - gh-143046: The asyncio REPL no longer prints copyright and version messages in the quiet mode (-q). Patch by Bartosz Sławecki.
    - gh-140648: The asyncio REPL now respects the -I flag (isolated mode). Previously, it would load and execute

      PYTHONSTARTUP even if the flag was set. Contributed by Bartosz Sławecki.
    - gh-142991: Fixed socket operations such as recvfrom() and sendto() for FreeBSD divert(4) socket.
    - gh-143010: Fixed a bug in mailbox where the precise timing of an external event could result in the library opening an existing file instead of a file it expected to create.
    - gh-142881: Fix concurrent and reentrant call of atexit.unregister().
    - gh-112127: Fix possible use-after-free in atexit.unregister() when the callback is unregistered during comparison.
    - gh-142783: Fix zoneinfo use-after-free with descriptor _weak_cache. a descriptor as _weak_cache could cause crashes during object creation. The fix ensures proper reference counting for descriptor-provided objects.
    - gh-142754: Add the ownerDocument attribute to xml.dom.minidom elements and attributes created by directly instantiating the Element or Attr class. Note that this way of creating nodes is not supported; creator functions like xml.dom.Document.documentElement() should be used instead.
    - gh-142784: The asyncio REPL now properly closes the loop upon the end of interactive session. Previously, it could cause surprising warnings. Contributed by Bartosz Sławecki.
    - gh-142555: array: fix a crash in a[i] = v when converting i to an index via i.__index__ or i.__float__ mutates the array.
    - gh-142594: Fix crash in TextIOWrapper.close() when the underlying buffer’s closed property calls detach().
    - gh-142451: hmac: Ensure that the HMAC.block_size attribute is correctly copied by HMAC.copy. Patch by Bénédikt Tran.
    - gh-142495: collections.defaultdict now prioritizes __setitem__() when inserting default values from default_factory. This prevents race conditions where a default value would overwrite a value set before default_factory returns.
    - gh-142651: unittest.mock: fix a thread safety issue where Mock.call_count may return inaccurate values when the mock is called concurrently from multiple threads.
    - gh-142595: Added type check during initialization of the decimal module to prevent a crash in case of broken stdlib. Patch by Sergey B Kirpichev.
    - gh-142517: The non-compat32 email policies now correctly handle refolding encoded words that contain bytes that can not be decoded in their specified character set. Previously this resulted in an encoding exception during folding.
    - gh-112527: The help text for required options in argparse no longer extended with “ (default: None)”.
    - gh-142315: Pdb can now run scripts from anonymous pipes used in process substitution. Patch by Bartosz Sławecki.
    - gh-142282: Fix winreg.QueryValueEx() to not accidentally read garbage buffer under race condition.
    - gh-75949: Fix argparse to preserve | separators in mutually exclusive groups when the usage line wraps due to length.
    - gh-68552: MisplacedEnvelopeHeaderDefect and Missing header name defects are now correctly passed to the handle_defect method of policy in FeedParser.
    - gh-142006: Fix a bug in the email.policy.default folding algorithm which incorrectly resulted in a doubled newline when a line ending at exactly max_line_length was followed by an unfoldable token.
    - gh-105836: Fix asyncio.run_coroutine_threadsafe() leaving underlying cancelled asyncio task running.
    - gh-139971: pydoc: Ensure that the link to the online documentation of a stdlib module is correct.
    - gh-139262: Some keystrokes can be swallowed in the new PyREPL on Windows, especially when used together with the ALT key. Fix by Chris Eibl.
    - gh-138897: Improved license/copyright/credits display in the REPL: now uses a pager.
    - gh-79986: Add parsing for References and In-Reply-To headers to the email library that parses the header content as lists of message id tokens. This prevents them from being folded incorrectly.
    - gh-109263: Starting a process from spawn context in multiprocessing no longer sets the start method globally.
    - gh-90871: Fixed an off by one error concerning the backlog parameter in create_unix_server(). Contributed by Christian Harries.
    - gh-133253: Fix thread-safety issues in linecache.
    - gh-132715: Skip writing objects during marshalling once a failure has occurred.
    - gh-127529: Correct behavior of asyncio.selector_events.BaseSelectorEventLoop._accept_connection() in handling ConnectionAbortedError in a loop. This improves performance on OpenBSD.
    IDLE
    - gh-143774: Better explain the operation of Format / Format Paragraph.
    Documentation
    - gh-140806: Add documentation for enum.bin().
    Core and Builtins
    - gh-144307: Prevent a reference leak in module teardown at interpreter finalization.
    - gh-144194: Fix error handling in perf jitdump initialization on memory allocation failure.
    - gh-141805: Fix crash in set when objects with the same hash are concurrently added to the set after removing an element with the same hash while the set still contains elements with the same hash.
    - gh-143670: Fixes a crash in ga_repr_items_list function.
    - gh-143377: Fix a crash in _interpreters.capture_exception() when the exception is incorrectly formatted. Patch by Bénédikt Tran.
    - gh-143189: Fix crash when inserting a non-str key into a split table dictionary when the key matches an existing key in the split table but has no corresponding value in the dict.
    - gh-143228: Fix use-after-free in perf trampoline when toggling profiling while threads are running or during interpreter finalization with daemon threads active. The fix uses reference counting to ensure trampolines are not freed while any code object could still reference them. Pach by Pablo Galindo
    - gh-142664: Fix a use-after-free crash in memoryview.__hash__ when the __hash__ method of the referenced object mutates that object or the view. Patch by Bénédikt Tran.
    - gh-142557: Fix a use-after-free crash in bytearray.__mod__ when the bytearray is mutated while formatting the %-style arguments. Patch by Bénédikt Tran.
    - gh-143195: Fix use-after-free crashes in bytearray.hex() and memoryview.hex() when the separator’s __len__() mutates the original object. Patch by Bénédikt Tran.
    - gh-143135: Set sys.flags.inspect to 1 when

      PYTHONINSPECT is 0. Previously, it was set to 0 in this case.
    - gh-143003: Fix an overflow of the shared empty buffer in bytearray.extend() when __length_hint__() returns 0 for non-empty iterator.
    - gh-143006: Fix a possible assertion error when comparing negative non-integer float and int with the same number of bits in the integer part.
    - gh-142776: Fix a file descriptor leak in import.c
    - gh-142829: Fix a use-after-free crash in contextvars.Context comparison when a custom __eq__ method modifies the context via set().
    - gh-142766: Clear the frame of a generator when generator.close() is called.
    - gh-142737: Tracebacks will be displayed in fallback mode even if io.open() is lost. Previously, this would crash the interpreter. Patch by Bartosz Sławecki.
    - gh-142554: Fix a crash in divmod() when _pylong.int_divmod() does not return a tuple of length two exactly. Patch by Bénédikt Tran.
    - gh-142560: Fix use-after-free in bytearray search-like methods (find(), count(), index(), rindex(), and rfind()) by marking the storage as exported which causes reallocation attempts to raise BufferError. For contains(), split(), and rsplit() the buffer protocol is used for this.
    - gh-142343: Fix SIGILL crash on m68k due to incorrect assembly constraint.
    - gh-141732: Ensure the __repr__() for ExceptionGroup and BaseExceptionGroup does not change when the exception sequence that was original passed in to its constructor is subsequently mutated.
    - gh-100964: Fix reference cycle in exhausted generator frames. Patch by Savannah Ostrowski.
    - gh-140373: Correctly emit PY_UNWIND event when generator object is closed. Patch by Mikhail Efimov.
    - gh-138568: Adjusted the built-in help() function so that empty inputs are ignored in interactive mode.
    - gh-127773: Do not use the type attribute cache for types with incompatible MRO.
    C API
    - gh-142571: PyUnstable_CopyPerfMapFile() now checks that opening the file succeeded before flushing.
    Build
    - gh-142454: When calculating the digest of the JIT stencils input, sort the hashed files by filenames before adding their content to the hasher. This ensures deterministic hash input and hence deterministic hash, independent on filesystem order.
    - gh-141808: When running make clean-retain-profile, keep the generated JIT stencils. That way, the stencils are not generated twice when Profile-guided optimization (PGO) is used. It also allows distributors to supply their own pre-built JIT stencils.
    - gh-138061: Ensure reproducible builds by making JIT stencil header generation deterministic.
ReleaseTime: 2026-02-03
