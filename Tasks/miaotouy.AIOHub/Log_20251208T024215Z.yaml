Version: 0.4.5-r.1
Installer:
- Architecture: x64
  InstallerUrl: https://github.com/miaotouy/aio-hub/releases/download/v0.4.5-r.1/AIO.Hub_0.4.5-r.1_x64-setup.exe
Locale:
- Locale: en-US
  Key: ReleaseNotes
  Value: |-
    v0.4.5-r.1 发行说明
    本次更新带来了重磅的 正则处理管道 (Regex Pipeline) 功能，大幅增强了 LLM 聊天的文本处理能力，并实现了对 SillyTavern 正则脚本的兼容。同时，我们全面升级了宏系统，优化了智能体导入与管理流程，并显著提升了分离窗口的使用体验。
    ✨ 新特性 (New Features)
    🛠️ 正则处理管道 (Regex Pipeline)
    LLM 聊天模块现已引入企业级的正则处理系统，支持对消息内容进行精细化的动态清洗和转换。
    - 双向管道架构：
      - 请求管道 (Request Pipeline)：在发送给模型前处理消息（例如：隐藏思维链、转换 Prompt 格式）。
      - 渲染管道 (Render Pipeline)：在界面显示前处理消息（例如：自定义标签渲染、敏感词过滤）。
    - 可视化编辑器：新增 ChatRegexEditor 组件，提供规则配置、拖拽排序、分组管理以及 实时测试（支持高亮预览） 功能。
    - 生态兼容：支持直接导入 SillyTavern 格式的正则脚本，系统会自动将其转换并合并为 AIO Hub 预设。
    - 精细控制：规则支持按角色（User/AI/System）和消息深度（Depth）进行过滤，并引入了 优先级（Priority） 机制来控制预设执行顺序。
    🤖 宏系统增强 (Macro System 2.0)
    - 新增系统级宏：
      - {{agent}}：动态获取当前智能体的显示名称。
      - {{os}}, {{arch}}, {{hostname}} 等：支持在 Prompt 中注入系统环境信息。
    - 处理能力升级：
      - 支持 __TRIM__ 标记：智能移除内容前后的所有空白字符。
      - 自动补全：在预设编辑器中输入 {{ 即可触发宏指令自动补全，按类型智能排序。
    👥 智能体与用户档案管理
    - 用户档案管理：新增独立的用户档案管理弹窗 (UserProfileManagerDialog)，支持快速切换和编辑档案。
    - 智能体导入体验升级：
      - 冲突自动解决：导入 Agent 名称重复时，系统会自动添加后缀（如 (1)）进行重命名。
      - 智能模型匹配：增强了对 profileId:modelId 格式 ID 的解析能力，并在找不到原模型时自动应用全局默认模型，确保开箱即用。
    🎨 界面与交互体验
    - 分离窗口 (Detached Window) 进化：
      - 支持在分离模式下显示/隐藏壁纸。
      - 修复了分离窗口下的资源加载路径问题，并统一了底层背景色变量。
    - 移动端适配：正则编辑器新增响应式布局，在移动端自动切换为侧滑编辑模式。
    - 视觉优化：统一了全局标题栏高度（基于 CSS 变量），优化了拖拽排序时的视觉反馈和动画。
    ⚡ 优化 (Improvements)
    - 性能与稳定性：
      - 深度同步优化：引入 deepEqual 机制，在状态同步和 LLM 上下文统计中避免无效的计算和更新。
      - 防抖处理：优化了窗口重连和数据刷新的防抖逻辑。
    - Mermaid 图表：增强了渲染引擎的健壮性，支持自动修复常见的 Mermaid 语法错误，并优化了错误提示级别。
    - 设置面板：复杂的设置项（如正则编辑器、Markdown 编辑器）现采用懒加载和折叠面板设计，显著提升页面加载速度。
    - 开发者工具：富文本渲染测试器集成正则管道配置，方便开发者调试渲染规则。
    🐛 问题修复 (Bug Fixes)
    - 修复了在分离窗口路由下，Vite base 路径配置导致静态资源（JS/CSS）加载失败的问题。
    - 修复了 HTML/Body 默认边距导致的页面滚动条跳动问题。
    - 修复了 Mermaid 渲染失败后无法恢复原始代码显示的问题。
    - 修复了智能体导入时，因模型 ID 格式差异导致无法正确匹配本地模型的问题。
    变更内容
    查看完整的 Changelog
- Locale: en-US
  Key: ReleaseNotesUrl
  Value: https://github.com/miaotouy/aio-hub/releases/tag/v0.4.5-r.1
ReleaseTime: 2025-12-08T02:05:28.0000000Z
